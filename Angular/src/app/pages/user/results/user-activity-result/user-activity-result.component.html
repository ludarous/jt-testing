<mat-expansion-panel class="activity-result-panel">
  <mat-expansion-panel-header>
    <mat-panel-title>
      <div>{{activityResult.activityName}}</div>
    </mat-panel-title>
    <mat-panel-description>
      <div><span class="info-label" translate>Hlavní výsledek aktivity: </span> {{activityResult.primaryResultValue}} {{activity.primaryResultValueUnit | enumTranslator: 'abbr'}}</div>
      <div><span class="info-label" translate>Vedlejší výsledek aktivity: </span> {{activityResult.secondaryResultValue}} {{activity.secondaryResultValueUnit | enumTranslator: 'abbr'}}</div>
    </mat-panel-description>
  </mat-expansion-panel-header>

  <ng-template matExpansionPanelContent>
    <div class="user-activity-result-container">
      <div class="user-activity-result-info">
        <div class="user-activity-name">{{activityResult.activityName}}</div>
        <div><span class="info-label" translate>Poznámka: </span>{{activityResult.note}}</div>
        <div>
          <span class="info-label" translate>Kategorie: </span>
          <span *ngFor="let category of activity.categories">{{category.name}}, {{(category.parent ? category.parent.name : '')}}</span>
        </div>
      </div>
      <div class="user-activity-content">
        <div class="user-activity-my-results">
          <div class="row">
            <div class="col-6">
              <span class="info-label" translate>Hlavní výsledek aktivity: </span> {{activityResult.primaryResultValue}}
              {{activity.primaryResultValueUnit | enumTranslator: 'abbr'}}
            </div>
            <div class="col-6">
              <span class="info-label" translate>Vedlejší výsledek aktivity: </span>
              {{activityResult.secondaryResultValue}} {{activity.secondaryResultValueUnit | enumTranslator: 'abbr'}}
            </div>
          </div>
        </div>
        <div *ngIf="activityStats">
          <div *ngIf="activityStats.virtualStats" class="user-activity-stats">
            <div class="info-label">Doporučené hodnoty</div>
            <div class="row">
              <div class="col-3">
                <span class="info-label" translate>Nejslabší výkon: </span> {{activityStats.virtualStats.primaryMin}}
                {{activity.primaryResultValueUnit | enumTranslator: 'abbr'}}
              </div>
              <div class="col-3">
                <span class="info-label" translate>Nejlepší výkon: </span> {{activityStats.virtualStats.primaryMax}}
                {{activity.primaryResultValueUnit | enumTranslator: 'abbr'}}
              </div>
              <div class="col-3">
                <span class="info-label" translate>Průměrný výkon: </span> {{activityStats.virtualStats.primaryAverage}}
                {{activity.primaryResultValueUnit | enumTranslator: 'abbr'}}
              </div>
              <div class="col-3">
                <span class="info-label" translate>Střední výkon (medián): </span>
                {{activityStats.virtualStats.primaryMedian}} {{activity.primaryResultValueUnit | enumTranslator:
                'abbr'}}
              </div>
            </div>
          </div>
          <div *ngIf="activityStats.realStats" class="user-activity-stats">
            <div class="info-label">Reálné hodnoty</div>
            <div class="row">
              <div class="col-3">
                <span class="info-label" translate>Nejslabší výkon: </span> {{activityStats.realStats.primaryMin}}
                {{activity.secondaryResultValueUnit | enumTranslator: 'abbr'}}
              </div>
              <div class="col-3">
                <span class="info-label" translate>Nejlepší výkon: </span> {{activityStats.realStats.primaryMax}}
                {{activity.secondaryResultValueUnit | enumTranslator: 'abbr'}}
              </div>
              <div class="col-3">
                <span class="info-label" translate>Průměrný výkon: </span> {{activityStats.realStats.primaryAverage}}
                {{activity.secondaryResultValueUnit | enumTranslator: 'abbr'}}
              </div>
              <div class="col-3">
                <span class="info-label" translate>Střední výkon (medián): </span>
                {{activityStats.realStats.primaryMedian}} {{activity.secondaryResultValueUnit | enumTranslator: 'abbr'}}
              </div>
            </div>
          </div>
          <div class="result-charts">
            <!--<ngx-charts-line-chart *ngIf="chartData && refLines"-->
            <!--class="chart-container"-->
            <!--[view]="[1000, 200]"-->
            <!--[results]="chartData"-->
            <!--[referenceLines]="refLines"-->
            <!--[scheme]="colorScheme"-->
            <!--[animations]="true"-->
            <!--[legend]="'Legenda'"-->
            <!--[legendTitle]="'Titulek legendy'"-->
            <!--[legendPosition]="'right'"-->
            <!--[gradient]="true"-->
            <!--[xAxis]="true"-->
            <!--[yAxis]="true"-->
            <!--[autoScale]="true"-->
            <!--[showXAxisLabel]="true"-->
            <!--[showYAxisLabel]="true"-->
            <!--[xAxisLabel]="'xAxis'"-->
            <!--[yAxisLabel]="'yAxis'"-->
            <!--[showGridLines]="true"-->
            <!--[tooltipDisabled]="false"-->
            <!--[showRefLines]="true"-->
            <!--[showRefLabels]="true"-->
            <!--[yScaleMax]="100"-->
            <!--[yScaleMin]="10"-->
            <!--(legendLabelClick)="onLegendLabelClick($event)"-->
            <!--(select)="onSelect($event)">-->
            <!--</ngx-charts-line-chart>-->
            <ngx-charts-number-card *ngIf="myResultsCardData"
                                    class="chart-container"
                                    [scheme]="colorScheme"
                                    cardColor="#232837"
                                    emptyColor="#1e222e"
                                    [results]="myResultsCardData"
                                    [animations]="true"
                                    (legendLabelClick)="onLegendLabelClick($event)"
                                    (select)="select($event)">
            </ngx-charts-number-card>
            <ngx-charts-number-card *ngIf="primaryCardsData"
                                    class="chart-container"
                                    [scheme]="colorScheme"
                                    cardColor="#232837"
                                    emptyColor="#1e222e"
                                    [results]="primaryCardsData"
                                    [animations]="true"
                                    (legendLabelClick)="onLegendLabelClick($event)"
                                    (select)="select($event)">
            </ngx-charts-number-card>
            <ngx-charts-bar-vertical-2d *ngIf="chartData"
                                          class="chart-container"
                                          [scheme]="colorScheme"
                                          [results]="chartData"
                                          [animations]="true"
                                          [gradient]="false"
                                          [tooltipDisabled]="false"
                                          [xAxis]="true"
                                          [yAxis]="true"
                                          [legend]="'Legenda'"
                                          [legendTitle]="'titulek legendy'"
                                          [legendPosition]="'right'"
                                          [showXAxisLabel]="true"
                                          [showYAxisLabel]="true"
                                          [xAxisLabel]="xLabel"
                                          [showGridLines]="true"
                                          [barPadding]="8"
                                          [groupPadding]="10"
                                          [roundEdges]="true"
                                          [yScaleMax]="100"
                                          [showDataLabel]="true"
                                          (legendLabelClick)="onLegendLabelClick($event)"
                                          (select)="select($event)">
            </ngx-charts-bar-vertical-2d>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</mat-expansion-panel>
