<mat-expansion-panel class="activity-result-panel" (afterExpand)="afterExpand($event)">
  <mat-expansion-panel-header [collapsedHeight]="'100px'" [expandedHeight]="'100px'">
    <mat-panel-title>
      <div>{{activityResult.activityName}}</div>
    </mat-panel-title>
    <mat-panel-description>
      <div class="header-cards-container">
        {{activityResult.primaryResultValue + ' ' + (activity.primaryResultValueUnit | enumTranslator: 'plural')}}
      </div>
      <div class="header-cards-container" *ngIf="activityResult.secondaryResultValue">
        {{activityResult.secondaryResultValue + ' ' + (activity.secondaryResultValueUnit | enumTranslator: 'plural')}}
      </div>
    </mat-panel-description>
  </mat-expansion-panel-header>

  <ng-template matExpansionPanelContent>
    <div class="user-activity-result-container">
      <div class="user-activity-result-info">
        <div class="user-activity-name">{{activityResult.activityName}}</div>
        <div><span class="info-label" translate>Pozn√°mka: </span>{{activityResult.note}}</div>
        <div>
          <span class="info-label" translate>Kategorie: </span>
          <span *ngFor="let category of activity.categories">{{category.name}}, {{(category.parent ? category.parent.name : '')}}</span>
        </div>
      </div>
      <div class="user-activity-content">
        <div *ngIf="activityStats">
          <div class="result-charts dark">
            <div class="row">
              <div [ngClass]="{'col-7': activityResult.secondaryResultValue, 'col-12': !activityResult.secondaryResultValue}">
                <div class="chart-container" *ngIf="myPrimaryResultCardData">
                  <ngx-charts-number-card class="chart-container"
                                          [scheme]="getColorScheme('cool')"
                                          cardColor="#232837"
                                          emptyColor="#1e222e"
                                          [results]="myPrimaryResultCardData"
                                          [animations]="true"
                                          [valueFormatting]="valueFormat"
                                          [labelFormatting]="statusLabelFormat"
                                          (legendLabelClick)="onLegendLabelClick($event)"
                                          (select)="onSelect($event)">
                  </ngx-charts-number-card>
                </div>
                <div class="chart-container" *ngIf="primaryCardsData">
                  <ngx-charts-number-card class="chart-container"
                                          [scheme]="getColorScheme('fire')"
                                          cardColor="#232837"
                                          emptyColor="#1e222e"
                                          [results]="primaryCardsData"
                                          [animations]="true"
                                          [valueFormatting]="valueFormat"
                                          [labelFormatting]="statusLabelFormat"
                                          (legendLabelClick)="onLegendLabelClick($event)"
                                          (select)="onSelect($event)">
                  </ngx-charts-number-card>
                </div>
              </div>
              <div *ngIf="activityResult.secondaryResultValue" class="col-5">
                <div class="chart-container" *ngIf="mySecondaryResultCardData">
                  <ngx-charts-number-card class="chart-container"
                                          [scheme]="getColorScheme('cool')"
                                          cardColor="#232837"
                                          emptyColor="#1e222e"
                                          [results]="mySecondaryResultCardData"
                                          [animations]="true"
                                          [valueFormatting]="valueFormat"
                                          [labelFormatting]="statusLabelFormat"
                                          (legendLabelClick)="onLegendLabelClick($event)"
                                          (select)="onSelect($event)">
                  </ngx-charts-number-card>
                </div>
                <div class="chart-container" *ngIf="secondaryCardsData">
                  <ngx-charts-number-card class="chart-container"
                                          [scheme]="getColorScheme('air')"
                                          cardColor="#232837"
                                          emptyColor="#1e222e"
                                          [results]="secondaryCardsData"
                                          [animations]="true"
                                          [valueFormatting]="valueFormat"
                                          [labelFormatting]="statusLabelFormat"
                                          (legendLabelClick)="onLegendLabelClick($event)"
                                          (select)="onSelect($event)">
                  </ngx-charts-number-card>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</mat-expansion-panel>
